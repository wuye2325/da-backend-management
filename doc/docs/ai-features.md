# AI功能文档

## 概述

阳光花园社区应用集成了先进的AI技术，旨在提升用户体验和信息处理效率。通过AI技术，系统能够自动生成事件概要、提供智能辅助写作等功能，帮助用户更高效地获取和处理信息。

## AI事件概要

AI事件概要是系统的核心AI功能之一，能够自动为社区事件生成简洁明了的概要信息。

### 功能描述

- **自动生成**: 当事件被创建或更新时，系统会自动调用AI服务生成事件概要。
- **实时更新**: 当事件有新的进展更新时，系统会重新生成概要，确保信息的时效性。
- **多语言支持**: AI能够生成多种语言的概要，满足不同用户的需求。
- **个性化**: 根据用户的阅读习惯和偏好，生成个性化的概要内容。

### 应用场景

- **事件详情页**: 在事件详情页面展示AI生成的概要，帮助用户快速了解事件核心内容。
- **时间线项目**: 在事件时间线的每个项目中展示AI生成的概要，帮助用户快速了解进展核心内容。
- **消息通知**: 在消息通知中包含事件概要，帮助用户快速了解消息内容。

### 技术实现

- **数据预处理**: 系统首先对事件的标题、描述、时间线等内容进行预处理，提取关键信息。
- **提示词生成**: 根据预处理后的数据，生成适合AI模型的提示词。
- **AI调用**: 调用硅基流动的DeepSeek-V3模型，传入提示词获取AI生成的概要。
- **结果解析**: 解析AI返回的结果，提取概要文本。
- **存储和展示**: 将生成的概要存储到数据库中，并在前端页面展示。

## 智能辅助写作

智能辅助写作功能在用户创建事件或撰写内容时提供实时的智能辅助建议。

### 功能描述

- **内容润色**: 提供语法检查、句式优化、词汇替换等润色建议。
- **标签推荐**: 根据事件内容自动推荐相关标签，方便分类和搜索。
- **格式优化**: 提供内容排版建议，如段落划分、列表使用等。
- **情感分析**: 分析内容的情感倾向，提供更合适的表达建议。

### 应用场景

- **事件创建**: 在用户创建事件时，提供标题和描述的润色建议。
- **进展更新**: 在用户添加事件进展时，提供内容润色和格式优化建议。
- **评论撰写**: 在用户撰写评论时，提供表达优化建议。

### 技术实现

- **实时分析**: 当用户在文本编辑器中输入内容时，实时分析文本并生成建议。
- **上下文理解**: 结合事件的上下文信息，提供更精准的建议。
- **个性化推荐**: 根据用户的历史行为和偏好，提供个性化的建议。

## AI服务集成

系统集成了硅基流动提供的AI服务，使用DeepSeek-V3模型。

### 服务提供商

- **硅基流动**: 提供高性能的AI模型服务。
- **模型**: DeepSeek-V3，具有强大的自然语言处理能力。

### API调用

系统通过HTTP API与AI服务进行交互：
- **端点**: `https://api.siliconflow.cn/v1/chat/completions`
- **认证**: 使用API Key进行认证。
- **参数**: 包括模型名称、提示词、生成参数等。

### 调用流程

1. **准备数据**: 收集需要处理的文本数据。
2. **生成提示词**: 根据数据生成适合AI模型的提示词。
3. **构建请求**: 构建包含API Key和提示词的HTTP请求。
4. **发送请求**: 向AI服务发送请求。
5. **处理响应**: 解析AI服务返回的响应，提取所需信息。
6. **应用结果**: 将AI生成的结果应用到系统中。

## 使用指南

### 启用AI功能

AI功能默认启用，用户无需进行额外配置。系统会自动为符合条件的事件生成概要。

### 查看AI概要

- 在事件详情页面，AI概要会显示在页面顶部。
- 在时间线项目中，AI概要会显示在项目内容下方。

### 刷新AI概要

如果用户认为AI概要不够准确或需要更新，可以点击"刷新"按钮重新生成概要：
1. 在事件详情页面找到AI概要区域。
2. 点击"刷新"按钮。
3. 系统会重新调用AI服务生成新的概要。
4. 新概要生成后会自动更新显示。

### 智能辅助写作

智能辅助写作功能在用户输入文本时自动提供建议：
1. 在文本编辑器中输入内容。
2. 系统会实时分析文本并在侧边栏或下方显示建议。
3. 用户可以选择接受或拒绝建议。
4. 接受的建议会自动应用到文本中。

## 注意事项

- **隐私保护**: AI服务不会存储或分析用户的个人隐私信息。
- **准确性**: AI生成的内容仅供参考，用户应根据实际情况进行判断和修改。
- **网络依赖**: AI功能需要网络连接，网络不稳定时可能影响功能使用。
- **成本控制**: AI服务调用会产生一定成本，系统会合理控制调用频率以平衡功能和成本。