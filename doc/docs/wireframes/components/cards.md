# 卡片组件设计规范

## 🃏 组件概述

卡片组件是展示信息的核心容器元素，用于组织和呈现各种类型的内容，包括事件卡片、AI速览卡片、用户信息卡片等。

### 🎯 设计目标
- 提供清晰的信息层次结构
- 保持一致的视觉风格
- 支持多种内容类型展示
- 实现良好的交互体验

## 🧩 卡片类型设计

### 1. AI速览卡片 (AIOverviewCard)

#### 1.1 基础结构
```
┌─────────────────────────────────────┐
│ ✨ AI速览                    [收起] │
├─────────────────────────────────────┤
│ 📊 今日概况                         │
│ • 3个事件进行中，2个待您处理        │
│ • 1个投票即将截止，请及时参与       │
│ • 停车位改造项目进展顺利            │
├─────────────────────────────────────┤
│ 🎯 重点关注                         │
│ • 36梯停车棚改造 - 明日开工         │
│ • 物业费调整投票 - 3天后截止        │
├─────────────────────────────────────┤
│ 💡 智能建议                         │
│ • 建议关注电梯维修进度              │
│ • 可考虑发起绿化改造讨论            │
├─────────────────────────────────────┤
│ [查看详细分析] [个性化设置] [刷新]  │
└─────────────────────────────────────┘
```

#### 1.2 展开状态
```
┌─────────────────────────────────────┐
│ ✨ AI速览                    [收起] │
├─────────────────────────────────────┤
│ 📊 数据概览                         │
│ ┌─────────┬─────────┬─────────────┐ │
│ │ 进行中  │ 待处理  │ 本月完成    │ │
│ │   3     │   2     │    15       │ │
│ └─────────┴─────────┴─────────────┘ │
├─────────────────────────────────────┤
│ 📈 趋势分析                         │
│ ▓▓▓▓▓▓▓░░░ 本月活跃度 70%          │
│ ▓▓▓▓▓▓▓▓░░ 参与度较上月 +15%       │
├─────────────────────────────────────┤
│ ⚡ 紧急提醒                         │
│ 🔴 物业费投票 - 还有2天截止         │
│ 🟡 电梯维修 - 需要业委会确认        │
├─────────────────────────────────────┤
│ 🎯 今日建议                         │
│ 1. 查看停车棚改造最新进展           │
│ 2. 回复3条待处理的业主咨询          │
│ 3. 准备下周业委会会议议程           │
├─────────────────────────────────────┤
│ [生成周报] [导出数据] [AI对话]      │
└─────────────────────────────────────┘
```

#### 1.3 技术实现
```typescript
interface AIOverviewData {
  summary: {
    ongoing: number;
    pending: number;
    completed: number;
  };
  trends: {
    activity: number;
    participation: number;
  };
  alerts: {
    level: 'high' | 'medium' | 'low';
    message: string;
    deadline?: Date;
  }[];
  suggestions: string[];
  insights: {
    type: 'trend' | 'anomaly' | 'opportunity';
    content: string;
  }[];
}
```

### 2. 事件卡片 (EventCard)

#### 2.1 列表卡片
```
┌─────────────────────────────────────┐
│ 🏗️ 36梯停车棚改造项目        [进行中] │
├─────────────────────────────────────┤
│ 📅 2024-01-15 ~ 2024-02-15          │
│ 📍 影响范围: 36号楼及周边区域        │
│ 👥 负责人: 张业委                    │
├─────────────────────────────────────┤
│ 📋 当前阶段: 施工准备                │
│ ▓▓▓▓▓░░░░░ 进度 50%                 │
├─────────────────────────────────────┤
│ 🏷️ [基础设施] [停车] [改造]          │
├─────────────────────────────────────┤
│ 💬 12条讨论 | 👍 28人支持 | 📎 3个附件 │
│ [查看详情] [参与讨论] [关注]        │
└─────────────────────────────────────┘
```

#### 2.2 详情卡片
```
┌─────────────────────────────────────┐
│ 🏗️ 36梯停车棚改造项目               │
│ [进行中] [高优先级] [需要投票]      │
├─────────────────────────────────────┤
│ 📝 项目描述                         │
│ 为解决36号楼停车难问题，计划在楼前  │
│ 空地建设钢结构停车棚，可提供20个    │
│ 停车位。项目预算15万元，工期30天。  │
├─────────────────────────────────────┤
│ ⏰ 时间安排                         │
│ 开始时间: 2024-01-15                │
│ 预计完成: 2024-02-15                │
│ 投票截止: 2024-01-20                │
├─────────────────────────────────────┤
│ 📍 影响范围                         │
│ • 36号楼全体业主                    │
│ • 周边通行路线                      │
│ • 临时停车调整                      │
├─────────────────────────────────────┤
│ 👥 项目团队                         │
│ 负责人: 张业委 (业委会主任)         │
│ 监督: 李物管 (物业经理)             │
│ 施工: 建筑公司A                     │
├─────────────────────────────────────┤
│ 💰 费用明细                         │
│ 材料费: ¥80,000                     │
│ 人工费: ¥50,000                     │
│ 其他费: ¥20,000                     │
│ 总计: ¥150,000                      │
├─────────────────────────────────────┤
│ 📎 相关文件                         │
│ 📄 设计图纸.pdf (2.3MB)             │
│ 📊 预算明细.xlsx (856KB)            │
│ 🖼️ 现场照片.jpg (1.8MB)             │
├─────────────────────────────────────┤
│ [编辑项目] [发起投票] [分享] [更多] │
└─────────────────────────────────────┘
```

#### 2.3 紧凑卡片
```
┌─────────────────────────────────────┐
│ 🏗️ 36梯停车棚改造    [进行中] 50%   │
│ 📅 01-15 ~ 02-15  👥 张业委         │
│ 💬 12 👍 28 📎 3    [查看] [讨论]   │
└─────────────────────────────────────┘
```

### 3. 用户角色卡片 (UserRoleCard)

#### 3.1 业委会角色卡片
```
┌─────────────────────────────────────┐
│ 👤 张业委                    [业委会] │
├─────────────────────────────────────┤
│ 🏠 阳光花园小区 36号楼2单元         │
│ 📞 138****8888                      │
│ 📧 zhang****@email.com              │
├─────────────────────────────────────┤
│ 🎯 当前职责                         │
│ • 业委会主任                        │
│ • 基础设施改造负责人                │
│ • 物业监督小组成员                  │
├─────────────────────────────────────┤
│ 📊 工作概况                         │
│ 本月处理: 15个事件                  │
│ 待办事项: 3个                       │
│ 参与投票: 8次                       │
├─────────────────────────────────────┤
│ [编辑资料] [工作记录] [权限设置]    │
└─────────────────────────────────────┘
```

### 4. 待办事项卡片 (TodoCard)

#### 4.1 待办列表卡片
```
┌─────────────────────────────────────┐
│ ✅ 我的待办 (3)              [全部] │
├─────────────────────────────────────┤
│ 🔴 [紧急] 物业费投票确认             │
│    截止时间: 今天 18:00              │
│    [立即处理]                       │
├─────────────────────────────────────┤
│ 🟡 [重要] 电梯维修方案审核           │
│    截止时间: 明天 12:00              │
│    [查看详情]                       │
├─────────────────────────────────────┤
│ 🟢 [普通] 业主投诉回复               │
│    截止时间: 本周五                  │
│    [处理]                           │
├─────────────────────────────────────┤
│ [添加待办] [批量操作] [筛选]        │
└─────────────────────────────────────┘
```

#### 4.2 单个待办卡片
```
┌─────────────────────────────────────┐
│ ☐ 🔴 物业费投票确认          [紧急] │
├─────────────────────────────────────┤
│ 📝 需要确认物业费调整方案的投票结果 │
│ 📅 截止: 2024-01-15 18:00           │
│ 👤 分配给: 张业委                   │
├─────────────────────────────────────┤
│ 🔗 相关事件: 物业费调整讨论          │
│ 📎 附件: 投票统计.xlsx              │
├─────────────────────────────────────┤
│ [标记完成] [延期] [转交] [详情]     │
└─────────────────────────────────────┘
```

### 5. 消息通知卡片 (NotificationCard)

#### 5.1 消息列表卡片
```
┌─────────────────────────────────────┐
│ 🔔 消息通知 (5)              [全部] │
├─────────────────────────────────────┤
│ 🔴 [新] 停车棚项目投票开始           │
│     2分钟前 | 来自: 业委会           │
│     [查看] [忽略]                   │
├─────────────────────────────────────┤
│ 💬 [回复] 李业主咨询电梯维修         │
│     1小时前 | 来自: 36-2-301        │
│     [回复] [查看]                   │
├─────────────────────────────────────┤
│ 📢 [公告] 春节期间服务安排           │
│     3小时前 | 来自: 物业公司         │
│     [查看详情]                      │
├─────────────────────────────────────┤
│ ✅ [完成] 电梯维修已完成             │
│     昨天 | 来自: 维修公司            │
│     [查看结果]                      │
├─────────────────────────────────────┤
│ [标记已读] [清空] [设置]            │
└─────────────────────────────────────┘
```

### 6. 统计卡片 (StatisticsCard)

#### 6.1 数据概览卡片
```
┌─────────────────────────────────────┐
│ 📊 本月数据概览                     │
├─────────────────────────────────────┤
│ ┌─────────┬─────────┬─────────────┐ │
│ │ 新增事件│ 完成事件│ 参与投票    │ │
│ │   12    │   8     │    15       │ │
│ │ +20%    │ +33%    │ +25%        │ │
│ └─────────┴─────────┴─────────────┘ │
├─────────────────────────────────────┤
│ ┌─────────┬─────────┬─────────────┐ │
│ │ 业主满意│ 响应时间│ 解决率      │ │
│ │  4.8/5  │ 2.3小时 │    95%      │ │
│ │ +0.2    │ -0.5h   │ +5%         │ │
│ └─────────┴─────────┴─────────────┘ │
├─────────────────────────────────────┤
│ [查看详细] [导出报告] [趋势分析]    │
└─────────────────────────────────────┘
```

#### 6.2 进度卡片
```
┌─────────────────────────────────────┐
│ 📈 项目进度总览                     │
├─────────────────────────────────────┤
│ 停车棚改造                          │
│ ▓▓▓▓▓▓▓░░░ 70% (预计2周完成)       │
├─────────────────────────────────────┤
│ 电梯维修                            │
│ ▓▓▓▓▓▓▓▓▓░ 90% (预计3天完成)       │
├─────────────────────────────────────┤
│ 绿化改造                            │
│ ▓▓▓░░░░░░░ 30% (预计1月完成)       │
├─────────────────────────────────────┤
│ [查看全部] [项目管理] [进度报告]    │
└─────────────────────────────────────┘
```

## 📐 卡片设计规范

### 1. 基础样式

#### 卡片容器
- **圆角**：8px
- **阴影**：0 2px 8px rgba(0,0,0,0.1)
- **边框**：1px solid #e8e8e8
- **背景**：#ffffff
- **内边距**：16px
- **外边距**：8px

#### 卡片头部
- **标题字体**：16px，粗体
- **副标题字体**：14px，常规
- **状态标签**：12px，圆角4px
- **操作按钮**：最小44px点击区域

#### 卡片内容
- **正文字体**：14px，常规
- **辅助文字**：12px，#8c8c8c
- **行间距**：1.5倍
- **段落间距**：8px

#### 卡片底部
- **按钮高度**：32px
- **按钮间距**：8px
- **次要操作**：文字链接样式

### 2. 状态设计

#### 默认状态
- 边框：#e8e8e8
- 阴影：0 2px 8px rgba(0,0,0,0.1)
- 背景：#ffffff

#### 悬停状态
- 阴影：0 4px 12px rgba(0,0,0,0.15)
- 边框：#d9d9d9
- 轻微上移：transform: translateY(-2px)

#### 激活状态
- 边框：#1890ff
- 阴影：0 0 0 2px rgba(24,144,255,0.2)

#### 停用状态
- 背景：#f5f5f5
- 文字：#bfbfbf
- 不可交互

### 3. 优先级标识

#### 颜色编码
- **紧急**：#ff4d4f (红色)
- **重要**：#faad14 (橙色)
- **普通**：#52c41a (绿色)
- **低优先级**：#8c8c8c (灰色)

#### 视觉表现
- **左侧色条**：4px宽的彩色边框
- **状态标签**：圆角标签，对应颜色背景
- **图标标识**：🔴🟡🟢⚪ 圆点图标

## 🎨 视觉层次

### 信息层次
1. **主要信息**：标题、状态、关键数据
2. **次要信息**：时间、负责人、描述
3. **辅助信息**：标签、统计、操作按钮

### 视觉权重
- **标题**：最大字号，粗体
- **状态**：醒目颜色，标签样式
- **关键数据**：突出显示，数字加粗
- **操作按钮**：主按钮突出，次按钮弱化

### 对比度控制
- **主要内容**：高对比度 (#262626)
- **次要内容**：中对比度 (#595959)
- **辅助内容**：低对比度 (#8c8c8c)

## 📱 响应式设计

### 移动端 (< 768px)
- **单列布局**：卡片垂直排列
- **全宽显示**：左右边距8px
- **触摸优化**：最小44px点击区域
- **内容简化**：隐藏非关键信息

### 平板端 (768px - 1024px)
- **双列布局**：2列卡片网格
- **自适应宽度**：根据内容调整
- **悬停效果**：支持鼠标交互
- **更多信息**：显示完整内容

### 桌面端 (> 1024px)
- **多列布局**：3-4列网格
- **固定宽度**：最大宽度限制
- **丰富交互**：完整的悬停和点击效果
- **详细信息**：显示所有可用信息

## 🔄 交互设计

### 卡片操作
- **点击卡片**：进入详情页
- **长按卡片**：显示快捷菜单
- **滑动操作**：左滑显示操作按钮
- **拖拽排序**：支持卡片重新排序

### 动画效果
- **加载动画**：骨架屏或加载指示器
- **进入动画**：从下方滑入
- **悬停动画**：轻微上移和阴影变化
- **点击反馈**：轻微缩放效果

### 状态变化
- **数据更新**：平滑的数字变化动画
- **状态切换**：颜色渐变过渡
- **内容展开**：高度变化动画
- **加载状态**：进度指示器

## 🔧 技术实现

### 组件接口
```typescript
interface BaseCardProps {
  className?: string;
  style?: React.CSSProperties;
  onClick?: () => void;
  onLongPress?: () => void;
  loading?: boolean;
  disabled?: boolean;
  hoverable?: boolean;
  bordered?: boolean;
  size?: 'small' | 'default' | 'large';
}

interface CardHeaderProps {
  title: string;
  subtitle?: string;
  extra?: React.ReactNode;
  avatar?: React.ReactNode;
}

interface CardContentProps {
  children: React.ReactNode;
}

interface CardActionsProps {
  actions: {
    key: string;
    label: string;
    onClick: () => void;
    type?: 'primary' | 'default' | 'text';
    disabled?: boolean;
  }[];
}
```

### 使用示例
```tsx
<Card
  hoverable
  onClick={() => navigate(`/events/${event.id}`)}
  className="event-card"
>
  <CardHeader
    title={event.title}
    subtitle={`${event.startDate} ~ ${event.endDate}`}
    extra={<StatusTag status={event.status} />}
  />
  <CardContent>
    <EventProgress progress={event.progress} />
    <TagList tags={event.tags} />
    <EventStats stats={event.stats} />
  </CardContent>
  <CardActions
    actions={[
      { key: 'view', label: '查看详情', onClick: handleView },
      { key: 'discuss', label: '参与讨论', onClick: handleDiscuss },
      { key: 'follow', label: '关注', onClick: handleFollow }
    ]}
  />
</Card>
```

### 性能优化
- **虚拟滚动**：大量卡片时使用虚拟列表
- **图片懒加载**：卡片中的图片延迟加载
- **内容截断**：长文本自动截断并提供展开选项
- **缓存策略**：合理缓存卡片数据

---

*此设计文档将在开发过程中持续更新和完善*